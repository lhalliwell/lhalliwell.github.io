<script>
  function tryKeySystem(name) {
    var config = [{videoCapabilities: [{contentType: 'video/mp4; codecs="avc1.4D401E"'}]}];
    
    navigator.requestMediaKeySystemAccess(name, config).then(
      function (ksa) {
        var x = document.getElementById(name + '-status');
        x.style.backgroundColor = 'green';
        console.log('Accessed key system ' + name);
      }
    ).catch(
      function () {
        var x = document.getElementById(name + '-status');
        x.style.backgroundColor = 'red';
        console.log('Did not find key system ' + name);
      });
  }
  
  window.addEventListener('load', (event) => {
    console.log('The page has fully loaded');
    tryKeySystem('org.w3.clearkey');
    tryKeySystem('com.chromecast.playready');
    tryKeySystem('com.widevine.alpha');
  });
  
</script>
<body>
<title>Testing</title>
<p>1</p>
  
  <table>
    <tr>
      <td id='org.w3.clearkey-status'>Clearkey</td>
    </tr><tr>
      <td id='com.chromecast.playready-status'>PlayReady</td>
    </tr><tr>
      <td id='com.widevine.alpha-status'>Widevine</td>
    </tr>
  </table>
</body>
